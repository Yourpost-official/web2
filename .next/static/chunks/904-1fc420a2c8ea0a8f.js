"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[904],{1904:(e,t,s)=>{s.d(t,{A:()=>j});var l=s(5155),a=s(2115),n=s(7910),r=s(3804),c=s(2529),i=s(5870),o=s(3852),d=s(906),x=s(8519),u=s(5998),p=s(5740),h=s(4382),b=s(3664),g=s(1360),m=s(7937);function j(e){var t,s,m,j,F,A,S,z,T,_,P,D,I,E,O,J;let{adminState:L,setAdminState:U}=e,M=L||{},[q,B]=(0,a.useState)(!1),[G,H]=(0,a.useState)({id:"",password:""}),[K,Q]=(0,a.useState)("settings"),[R,V]=(0,a.useState)("brandStory"),[W,X]=(0,a.useState)(!1),[Y,Z]=(0,a.useState)(null),[$,ee]=(0,a.useState)({message:"",type:null});(0,a.useEffect)(()=>{if(q){X(!0);let e=setTimeout(()=>{Z(new Date),X(!1)},500);return()=>clearTimeout(e)}},[L,q]);let et=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";ee({message:e,type:t}),setTimeout(()=>ee({message:"",type:null}),3e3)},es=(e,t)=>{U(s=>{let l=JSON.parse(JSON.stringify(s)),a=e.split("."),n=l;for(let e=0;e<a.length-1;e++)n=n[a[e]];return n[a[a.length-1]]=t,l})};return q?(0,l.jsxs)("div",{className:"min-h-screen bg-[#FCF9F5] p-6 md:p-12 lg:p-20 flex flex-col gap-12 animate-reveal relative pb-40",children:[(0,l.jsx)("div",{className:"fixed bottom-10 right-10 z-[100] flex items-center gap-4",children:(0,l.jsxs)("div",{className:"px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-3 font-bold text-xs bg-white border border-gray-100 ".concat(W?"text-burgundy-500":"text-gray-400"),children:[W?(0,l.jsx)(r.A,{size:14,className:"animate-spin"}):(0,l.jsx)(c.A,{size:14,className:"text-green-500"}),W?"데이터 동기화 중...":"마지막 동기화: ".concat(null==Y?void 0:Y.toLocaleTimeString())]})}),(0,l.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h2",{className:"text-5xl font-black tracking-tighter text-charcoal uppercase italic",children:"Admin Panel"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsx)(f,{active:"settings"===K,onClick:()=>Q("settings"),label:"기본 설정",icon:(0,l.jsx)(i.A,{size:16})}),(0,l.jsx)(f,{active:"content"===K,onClick:()=>Q("content"),label:"콘텐츠 CMS",icon:(0,l.jsx)(o.A,{size:16})}),(0,l.jsx)(f,{active:"logs"===K,onClick:()=>Q("logs"),label:"보안 로그",icon:(0,l.jsx)(d.A,{size:16})})]})]}),(0,l.jsx)("button",{onClick:()=>{B(!1),document.cookie="admin_session=; path=/; max-age=0"},className:"text-xs font-black text-gray-400 hover:text-burgundy-500 px-6 py-3 border border-gray-200 rounded-2xl bg-white shadow-sm transition-all",children:"로그아웃"})]}),"settings"===K&&(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[(0,l.jsx)(y,{title:"서비스 및 가격 제어",icon:(0,l.jsx)(x.A,{className:"text-burgundy-500"}),children:(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsx)(C,{label:"하루편지",price:null==(s=M.prices)||null==(t=s.haru)?void 0:t.price,link:null==(j=M.prices)||null==(m=j.haru)?void 0:m.link,available:null==(A=M.prices)||null==(F=A.haru)?void 0:F.available,onUpdate:(e,t)=>es("prices.haru.".concat(e),t)}),(0,l.jsx)(C,{label:"하트센드",price:null==(z=M.prices)||null==(S=z.heartsend)?void 0:S.price,link:null==(_=M.prices)||null==(T=_.heartsend)?void 0:T.link,available:null==(D=M.prices)||null==(P=D.heartsend)?void 0:P.available,onUpdate:(e,t)=>es("prices.heartsend.".concat(e),t)})]})}),(0,l.jsx)(y,{title:"배너 및 팝업 제어",icon:(0,l.jsx)(u.A,{className:"text-burgundy-500"}),children:(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsx)(k,{label:"띠 배너 활성",active:null==(I=M.banner)?void 0:I.showTop,onToggle:()=>{var e;return es("banner.showTop",!(null==(e=M.banner)?void 0:e.showTop))}}),(0,l.jsx)(N,{label:"배너 메시지",value:null==(O=M.banner)||null==(E=O.top)?void 0:E.message,onChange:e=>es("banner.top.message",e)})]})})]}),"content"===K&&(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-10",children:[(0,l.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,l.jsx)(v,{active:"brandStory"===R,onClick:()=>V("brandStory"),label:"브랜드 스토리",icon:(0,l.jsx)(p.A,{size:18})}),(0,l.jsx)(v,{active:"press"===R,onClick:()=>V("press"),label:"뉴스룸",icon:(0,l.jsx)(h.A,{size:18})}),(0,l.jsx)(v,{active:"events"===R,onClick:()=>V("events"),label:"이벤트",icon:(0,l.jsx)(b.A,{size:18})})]}),(0,l.jsxs)("div",{className:"lg:col-span-3 bg-white p-12 rounded-[60px] shadow-sm border border-gray-100 min-h-[800px]",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center border-b pb-8 mb-10",children:[(0,l.jsxs)("h3",{className:"text-3xl font-black uppercase text-charcoal",children:[R," 관리"]}),(0,l.jsx)("button",{onClick:()=>{var e;let t={id:Date.now(),title:"새 항목",text:"",date:new Date().toISOString().split("T")[0],order:0};es("content.".concat(R),[t,...(null==(e=M.content)?void 0:e[R])||[]]),et("새 항목이 추가되었습니다.")},className:"bg-burgundy-500 text-white px-8 py-4 rounded-2xl text-xs font-black shadow-lg",children:"+ 신규 추가"})]}),(0,l.jsx)("div",{className:"space-y-10",children:((null==(J=M.content)?void 0:J[R])||[]).map(e=>(0,l.jsxs)("div",{className:"p-10 bg-[#FCF9F5] rounded-[40px] border border-gray-100 space-y-6 relative group",children:[(0,l.jsx)("button",{onClick:()=>{var t;return t=e.id,void(window.confirm("항목을 영구 파기하시겠습니까?")&&(U(e=>{let s=(e.content[R]||[]).filter(e=>e.id!==t);return{...e,content:{...e.content,[R]:s}}}),et("데이터가 삭제되었습니다.","error")))},className:"absolute top-10 right-10 text-gray-300 hover:text-red-500 transition-colors",children:(0,l.jsx)(g.A,{size:24})}),(0,l.jsx)(w,{label:"타이틀",value:e.title,onChange:t=>{let s=M.content[R].map(s=>s.id===e.id?{...s,title:t}:s);es("content.".concat(R),s)}}),(0,l.jsx)(N,{label:"상세 본문",value:e.text,onChange:t=>{let s=M.content[R].map(s=>s.id===e.id?{...s,text:t}:s);es("content.".concat(R),s)}})]},e.id))})]})]}),"logs"===K&&(0,l.jsxs)("div",{className:"bg-white p-12 rounded-[60px] border border-gray-100 shadow-sm space-y-10",children:[(0,l.jsx)("h3",{className:"text-2xl font-black text-charcoal",children:"실시간 보안 감사 (Full IP Trace)"}),(0,l.jsx)("div",{className:"overflow-x-auto rounded-[32px] bg-[#FCF9F5]",children:(0,l.jsxs)("table",{className:"w-full text-left text-[11px]",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-gray-400 border-b uppercase tracking-widest font-black",children:[(0,l.jsx)("th",{className:"p-6",children:"Timestamp"}),(0,l.jsx)("th",{className:"p-6",children:"IP Address"}),(0,l.jsx)("th",{className:"p-6",children:"Action"}),(0,l.jsx)("th",{className:"p-6",children:"Page"})]})}),(0,l.jsx)("tbody",{children:(M.cookieLogs||[]).slice(0,100).map(e=>(0,l.jsxs)("tr",{className:"border-b border-gray-50/50 hover:bg-white transition-colors",children:[(0,l.jsx)("td",{className:"p-6 font-mono text-gray-400",children:e.date}),(0,l.jsx)("td",{className:"p-6 font-bold text-charcoal",children:e.ip}),(0,l.jsx)("td",{className:"p-6 font-bold text-burgundy-500",children:e.action}),(0,l.jsx)("td",{className:"p-6 text-gray-500 italic",children:e.page})]},e.id))})]})})]})]}):(0,l.jsx)("div",{className:"min-h-screen bg-[#FCF9F5] flex items-center justify-center p-6 animate-reveal",children:(0,l.jsxs)("div",{className:"bg-white p-14 rounded-[48px] shadow-2xl w-full max-w-md border border-gray-100 text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-burgundy-50 text-burgundy-500 rounded-3xl flex items-center justify-center mx-auto mb-10",children:(0,l.jsx)(n.A,{size:40})}),(0,l.jsx)("h1",{className:"text-3xl font-black text-charcoal mb-8 tracking-tighter uppercase italic",children:"Control Panel"}),(0,l.jsxs)("form",{onSubmit:e=>{var t,s;e.preventDefault(),G.id===(null==(t=M.auth)?void 0:t.id)&&G.password===(null==(s=M.auth)?void 0:s.password)?(B(!0),document.cookie="admin_session=authenticated_token_v1; path=/; max-age=7200",et("시스템 권한을 획득했습니다.")):et("인증 정보가 올바르지 않습니다.","error")},className:"space-y-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"ID",className:"w-full px-8 py-5 bg-[#FCF9F5] rounded-2xl outline-none font-bold text-charcoal",value:G.id,onChange:e=>H({...G,id:e.target.value})}),(0,l.jsx)("input",{type:"password",placeholder:"Password",className:"w-full px-8 py-5 bg-[#FCF9F5] rounded-2xl outline-none font-bold text-charcoal",value:G.password,onChange:e=>H({...G,password:e.target.value})}),(0,l.jsx)("button",{className:"w-full bg-charcoal text-white py-5 rounded-2xl font-black text-lg hover:bg-black transition-all shadow-xl",children:"시큐어 접속"})]}),"error"===$.type&&(0,l.jsx)("p",{className:"mt-4 text-red-500 text-xs font-bold",children:$.message})]})})}function f(e){let{active:t,onClick:s,label:a,icon:n}=e;return(0,l.jsxs)("button",{onClick:s,className:"flex items-center gap-3 px-8 py-4 rounded-full text-xs font-black transition-all ".concat(t?"bg-charcoal text-white shadow-xl":"bg-white text-gray-400 border border-gray-100"),children:[n," ",a]})}function v(e){let{active:t,onClick:s,label:a,icon:n}=e;return(0,l.jsxs)("button",{onClick:s,className:"w-full text-left px-8 py-6 rounded-[32px] font-black transition-all flex justify-between items-center ".concat(t?"bg-burgundy-500 text-white shadow-xl translate-x-2":"bg-white text-gray-500 border border-gray-50"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[n,a]}),t&&(0,l.jsx)(m.A,{size:18})]})}function y(e){let{title:t,icon:s,children:a}=e;return(0,l.jsxs)("div",{className:"bg-white p-12 rounded-[60px] shadow-sm border border-gray-100 space-y-10",children:[(0,l.jsxs)("h3",{className:"text-3xl font-black flex items-center gap-5 text-charcoal",children:[s," ",t]}),a]})}function w(e){let{label:t,value:s,onChange:a}=e;return(0,l.jsxs)("div",{className:"space-y-3 w-full",children:[(0,l.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 pl-4",children:t}),(0,l.jsx)("input",{className:"w-full px-8 py-5 bg-[#FCF9F5] rounded-2xl outline-none font-black text-sm border border-transparent focus:border-burgundy-500/20",value:s,onChange:e=>a(e.target.value)})]})}function N(e){let{label:t,value:s,onChange:a}=e;return(0,l.jsxs)("div",{className:"space-y-3 w-full",children:[(0,l.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 pl-4",children:t}),(0,l.jsx)("textarea",{className:"w-full px-8 py-5 bg-[#FCF9F5] rounded-2xl outline-none font-medium text-sm h-36 border border-transparent focus:border-burgundy-500/20 resize-none",value:s,onChange:e=>a(e.target.value)})]})}function k(e){let{label:t,active:s,onToggle:a}=e;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 bg-[#FCF9F5] rounded-3xl w-full",children:[(0,l.jsx)("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:t}),(0,l.jsx)("button",{onClick:a,className:"w-16 h-8 rounded-full relative transition-colors ".concat(s?"bg-burgundy-500":"bg-gray-200"),children:(0,l.jsx)("div",{className:"absolute top-1 w-6 h-6 bg-white rounded-full transition-all shadow-md ".concat(s?"right-1":"left-1")})})]})}function C(e){let{label:t,price:s,link:a,available:n,onUpdate:r}=e;return(0,l.jsxs)("div",{className:"bg-[#FCF9F5] p-8 rounded-[40px] space-y-6 border border-gray-50",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-xl font-black text-charcoal",children:t}),(0,l.jsx)(k,{label:"활성 상태",active:n,onToggle:()=>r("available",!n)})]}),(0,l.jsx)(w,{label:"표시 가격",value:s,onChange:e=>r("price",e)}),(0,l.jsx)(w,{label:"신청 링크",value:a,onChange:e=>r("link",e)})]})}}}]);